```{r}
library(readr)
library(ggplot2)
library(dplyr)
library(tidymodels)
tidymodels_prefer()
```

```{r}
stringency_data <- read.csv('covid-stringency-index.csv')
all_data <- read.csv('owid-covid-data.csv')
```

```{r}
all_data %>%
  group_by(continent) %>%
  head()
```

```{r}
all_data %>%
  ggplot(aes(x=date,y=new_cases_smoothed_per_million, color=continent)) +
  geom_point()
```

```{r}
lm_spec <-
    linear_reg() %>% 
    set_engine(engine = 'lm') %>% 
    set_mode('regression')
```

```{r}
mod1 <- fit(lm_spec,
            total_deaths ~ stringency_index + population, 
            data = all_data)

mod1 %>%
  pluck()
```

